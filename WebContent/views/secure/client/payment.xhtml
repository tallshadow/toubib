<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

	<p:fieldset legend="#{msg['fees.name']}" styleClass="consLegend"
		style="margin-top:20px; width:60%;">
		<div class="ui-fluid">
			<h:panelGrid id="payment" columns="4" cellpadding="5"
				columnClasses="ui-grid-col-3,ui-grid-col-3,ui-grid-col-3, ui-grid-col-3"
				styleClass="ui-grid">

				<h:outputLabel for="basic" value="#{msg['fees.name']} "
					style="width:150px; padding-left:30%;" />
					
				<p:spinner id="basic" value="#{orderBean.payment.fee}"
					stepFactor="50" min="0" />

				<p:selectOneMenu value="#{orderBean.payment.motto}">
					<f:selectItem itemLabel="MAD" itemValue="MAD" />
					<f:selectItem itemLabel="EUR" itemValue="EUR" />
					<f:selectItem itemLabel="DZD" itemValue="DZD" />
				</p:selectOneMenu>

				<p:selectOneMenu value="#{orderBean.payment.methodPayment}">
					<f:selectItem itemLabel="#{msg['Cash']}" itemValue="Cash" />
					<f:selectItem itemLabel="#{msg['Check']}" itemValue="Check" />
					<f:selectItem itemLabel="#{msg['creditCard']}"
						itemValue="creditCard" />
				</p:selectOneMenu>

			</h:panelGrid>
		</div>
		<br />
		<p:commandButton value="#{msg['button.record']}"
			actionListener="#{orderBean.recordPayment}" update="@(.selectedFee)"
			style="background:#4d90fe none repeat scroll 0 0;color:#fff;border:none;text-shadow: none;float:right">
		</p:commandButton>

	</p:fieldset>

	<p:fieldset legend="#{msg['payment.historical']}"
		styleClass="consLegend" style="margin-top:20px; width:60%;">

		<p:dataTable id="histo" var="p" value="#{orderBean.historicalPayment}"
			selectionMode="single" selection="#{orderBean.selectedFee}"
			rowKey="#{p.id}" emptyMessage="#{msg['clients.emptyList']}"
			widgetVar="historicalFee" scrollable="false" scrollHeight="500"
			frozenRows="0" styleClass="selectedFee">

			<f:facet name="header">
				<p:outputPanel style="text-align:left;" class=" has-feedback">

					<h:inputText id="globalFilter"
						onkeyup="PF('historicalFee').filter()"
						pt:placeholder="#{msg['filter.search']}"
						placeholder="#{msg['filter.search']}" icon="ui-icon-search"
						style="width:100%;" />
					<i class="glyphicon glyphicon-search form-control-feedback"></i>
				</p:outputPanel>

			</f:facet>

			<p:column filterBy="#{p.date}" filterStyle="display:none"
				headerText="#{msg['payment.date']}">
				<h:outputText value="#{p.date}" />
			</p:column>

			<p:column filterBy="#{p.fee}" filterStyle="display:none"
				headerText="#{msg['fees.name']}">
				<h:outputText value="#{p.fee}" />
			</p:column>

			<p:column filterBy="#{p.motto}" filterStyle="display:none"
				headerText="#{msg['payment.motto']}">
				<h:outputText value="#{p.motto}" />
			</p:column>

			<p:column filterBy="#{p.methodPayment}" filterStyle="display:none"
				headerText="#{msg['payment.methodPayment']}">
				<h:outputText value="#{msg[p.methodPayment]}" />
			</p:column>

			<p:column style="width:56px;text-align: center">

				<p:commandButton actionListener="#{orderBean.removeSelectedFee(p)}"
					update="@(.selectedFee)" icon="fa fa-times" styleClass="buttonAwsome" />

			</p:column>
		</p:dataTable>
	</p:fieldset>


</ui:composition>