<ui:composition template="/template/userLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">


	<ui:define name="content">
		<div class="ui-fluid ">
			<h:outputLabel value="#{msg['client.new']}" class="newPatientTitle"></h:outputLabel>
			<h:form class="newPatient">
				<p:growl id="msgs" showDetail="false" />

				<div class="ui-g">
					<div class="ui-g-6">

						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-grid-col-4,ui-grid-col-10"
							styleClass="ui-panelgrid-blank">

							<f:facet name="header">
								<p:outputLabel value="#{msg['client.civilState']}"
									style="color:#37599a"></p:outputLabel>
							</f:facet>

							<p:outputLabel for="gender" value="#{msg['client.gender']}" />
							<p:selectOneRadio id="gender" styleClass="selectRadio"
								value="#{clientBean.clientDto.gender}" required="true">
								<f:selectItem itemLabel="#{msg['client.gender.male']}"
									itemValue="M" />
								<f:selectItem itemLabel="#{msg['client.gender.female']}"
									itemValue="F" />
							</p:selectOneRadio>

							<p:outputLabel for="firstName" value="#{msg['client.firstName']}" />
							<p:inputText id="firstName" name='firstName'
								value="#{clientBean.clientDto.firstName}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:inputText>

							<p:outputLabel for="lastName" value="#{msg['client.lastName']}" />
							<p:inputText id="lastName" name='lastName'
								value="#{clientBean.clientDto.lastName}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:inputText>

							<p:outputLabel for="date" value="Date: " />
							<p:calendar id="date" value="#{clientBean.clientDto.dateOfBirth}"
								pattern="dd-MM-yyyy" converterMessage="Invalid Date"
								requiredMessage="#{msg['forgottenField']}" required="true" />

						</p:panelGrid>

					</div>
					<div class="ui-g-6">



						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-grid-col-4,ui-grid-col-10"
							styleClass="ui-panelgrid-blank">

							<f:facet name="header">
								<p:outputLabel value="#{msg['client.contact']}"
									style="color:#37599a"></p:outputLabel>
							</f:facet>

							<p:outputLabel for="gender" value="#{msg['address.title']}" />
							<p:inputText id="address" name='address'
								value="#{clientBean.clientDto.address.street}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:inputText>

							<p:outputLabel for="country" value="#{msg['address.country']}" />
							<p:selectOneMenu id="country"
								value="#{clientBean.clientDto.address.country}"
								requiredMessage="#{msg['forgottenField']}" required="true">
								<p:ajax listener="#{clientBean.onCountryChange}" update="city" />
								<f:selectItem itemLabel="#{msg['selectCountry']}" itemValue=""
									noSelectionOption="true" />
								<f:selectItems value="#{clientBean.countries}" />
							</p:selectOneMenu>

							<p:outputLabel for="city" value="#{msg['address.city']}" />
							<p:autoComplete id="city" dropdown="false"
								value="#{clientBean.clientDto.address.city}"
								completeMethod="#{clientBean.completeText}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:autoComplete>

							<p:outputLabel for="zip" value="#{msg['address.zip']}" />
							<p:inputText id="zip" name='zip'
								value="#{clientBean.clientDto.address.zip}">
							</p:inputText>

							<p:outputLabel for="phone" value="#{msg['client.phone']}" />
							<p:inputText id="phone" name='phone'
								value="#{clientBean.clientDto.address.phone}"
								requiredMessage="#{msg['forgottenField']}">
							</p:inputText>

							<p:outputLabel for="email" value="#{msg['client.email']}" />
							<p:inputText id="email" name='email'
								value="#{clientBean.clientDto.address.email}">
								<!-- 								<f:validateRegex pattern="[a-zA-Z0-9]+@[a-zA-Z]+.[a-zA-Z]{2,3}"></f:validateRegex> -->
							</p:inputText>


						</p:panelGrid>

					</div>

					<div class="ui-g-6">
						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-grid-col-4,ui-grid-col-10"
							styleClass="ui-panelgrid-blank">

							<f:facet name="header">
								<p:outputLabel value="#{msg['client.socialSituation']}"
									style="color:#37599a"></p:outputLabel>
							</f:facet>

							<p:outputLabel for="familySituation"
								value="#{msg['client.socialFamiliale']}" />
							<p:selectOneMenu id="familySituation" name='familySituation'
								value="#{clientBean.clientDto.familySituation}"
								requiredMessage="#{msg['forgottenField']}" required="true">
								<f:selectItem itemLabel="#{msg['client.single']}"
									itemValue="single" />
								<f:selectItem itemLabel="#{msg['client.married']}"
									itemValue="married" />
								<f:selectItem itemLabel="#{msg['client.divorced']}"
									itemValue="divorced" />
								<f:selectItem itemLabel="#{msg['client.widower']}"
									itemValue="widower" />
							</p:selectOneMenu>

							<p:outputLabel for="job" value="#{msg['client.job']}" />
							<p:inputText id="job" name='job'
								value="#{clientBean.clientDto.job}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:inputText>

							<p:outputLabel for="numberOfChildren"
								value="#{msg['client.numberOfChildren']}" />
							<p:inputText id="numberOfChildren" name='numberOfChildren'
								value="#{clientBean.clientDto.numberOfChildren}"
								requiredMessage="#{msg['forgottenField']}" required="true">
							</p:inputText>

						</p:panelGrid>
					</div>

					<div class="ui-g-6">
						<p:panelGrid columns="2" layout="grid"
							columnClasses="ui-grid-col-4,ui-grid-col-10"
							styleClass="ui-panelgrid-blank">

							<f:facet name="header">
								<p:outputLabel value="#{msg['client.medicalSituation']}"
									style="color:#37599a"></p:outputLabel>
							</f:facet>

							<p:outputLabel for="doctor" value="#{msg['client.doctor']}" />
							<p:inputText id="doctor" name='doctor'
								value="#{clientBean.clientDto.treatingDoctor}">
							</p:inputText>

							<p:outputLabel for="sentBy" value="#{msg['client.sentBy']}" />
							<p:inputText id="sentBy" name='sentBy'
								value="#{clientBean.clientDto.sentBy}">
							</p:inputText>

							<p:outputLabel for="mutual" value="#{msg['client.mutual']}" />
							<p:inputText id="mutual" name='mutual'
								value="#{clientBean.clientDto.mutual}">
							</p:inputText>

						</p:panelGrid>
					</div>
				</div>

				<p:separator />

				<p:commandButton type="reset" value="#{msg['button.concel']}"
					style="background:#ff6d6f;color:#fff;border:none;text-shadow: none;float:right;width: 104px;" />

				<p:commandButton value="#{msg['client.register']}" update="@(.listClients, .newPatient, .listClientsForm)" ajax="false" 
					style="background:#65bf1f;color:#fff;border:none;text-shadow: none;float:right;width: 104px; "
					action="#{clientBean.addClient}" 
					class="btn btn-primary register">
					</p:commandButton>

			</h:form>
			<br/><br/><br/>
		</div>
		<style>
.selectRadio label {
	margin-right: 30px;
}

.newPatient {
	background: #f5f5f5 none repeat scroll 0 0;
}

.newPatientTitle {
	color: #2f4358;
	background: #F1F1F1;
	font-size: 28px;
	font-weight: 600;
	letter-spacing: -1px;
	line-height: 55px;
	margin: 0;
	padding-left: 1%;
	width: 100%;
}
</style>
	</ui:define>
</ui:composition>